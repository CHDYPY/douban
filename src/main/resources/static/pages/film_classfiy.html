<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <title>Styles - Typerite</title>
    <!--<meta name="description" content="">-->
    <!--<meta name="author" content="">-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="no-referrer">
    <link rel="stylesheet" href="../plugins/webapps/css/base.css">
    <link rel="stylesheet" href="../plugins/webapps/css/vendor.css">
    <link rel="stylesheet" href="../plugins/webapps/css/main.css">
    <style type="text/css" media="screen">
        .s-styles { 
            max-width: 1100px;
            padding-bottom: 12rem;
        }
    </style>
    <script src="../plugins/webapps/js/modernizr.js"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="../plugins/webapps/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../plugins/webapps/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../plugins/webapps/images/favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

</head>

<body class="ss-bg-white">

    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader" class="dots-fade">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div id="top" class="s-wrap site-wrapper">

        <!-- site header
        ================================================== -->
        <header class="s-header header">

            <div class="header__top">
                <div class="header__logo">
                    <a class="site-logo" href="index.html">
                        <img src="../plugins/webapps/images/logo.svg" alt="Homepage">
                    </a>
                </div>

                <!-- toggles -->
                <a href="#0" class="header__search-trigger"></a>
                <a href="#0" class="header__menu-toggle"><span>Menu</span></a>

            </div>

            <nav class="header__nav-wrap">

                <ul class="header__nav">
                    <li><a href="film_index.html" title="">首页</a></li>
                    <li><a href="film_top20.html" title="">Top 20</a></li>
                    <li><a href="film_year.html" title="">年度推荐</a></li>
                    <li class="current"><a href="film_classfiy.html" title="">选好片</a> </li>
                    <!--<li class="has-children">-->
                    <!--<a href="#0" title="">选好片</a>-->
                    <!--<ul class="sub-menu">-->
                    <!--<li><a href="category.html">大陆</a></li>-->
                    <!--<li><a href="category.html">港澳台</a></li>-->
                    <!--<li><a href="category.html">欧美</a></li>-->
                    <!--<li><a href="category.html">其他</a></li>-->
                    <!--</ul>-->
                    <!--</li>-->
                    <!--<li><a href="page-about.html" title="">About</a></li>-->
                    <!--<li><a href="page-contact.html" title="">Contact</a></li>-->
                </ul> <!-- end header__nav -->

                <ul class="header__social">
                    <li class="ss-facebook">
                        <a href="https://facebook.com/">
                            <span class="screen-reader-text">Facebook</span>
                        </a>
                    </li>
                    <li class="ss-twitter">
                        <a href="#0">
                            <span class="screen-reader-text">Twitter</span>
                        </a>
                    </li>
                    <li class="ss-dribbble">
                        <a href="#0">
                            <span class="screen-reader-text">Instagram</span>
                        </a>
                    </li>
                    <li class="ss-behance">
                        <a href="#0">
                            <span class="screen-reader-text">Behance</span>
                        </a>
                    </li>
                </ul>

            </nav> <!-- end header__nav-wrap -->

        </header> <!-- end s-header -->


        <!-- site content
        ================================================== -->
        <div class="s-content content" style="background: #FAFAD2">
            <main class="row s-styles">
                
                <!-- styles
                ================================================== -->
                <section id="styles" class="column large-full">
                    
                    <div class="row section-intro add-bottom">

                        <div class="column large-full">

                            <h1 class="display-1">选影视</h1>
                            <label>Selected Film</label>

                            <p class="entry__tags">
                                <span>全部类型</span>

                                <span class="entry__tag-list">
                                    <a href="javascript:" name="type" id="type_1">所有类型</a><a href="javascript:" name="type" id="type_2">剧情</a>
                                    <a href="javascript:" name="type" id="type_3">喜剧</a><a href="javascript:" name="type" id="type_4">动作</a>
                                    <a href="javascript:" name="type" id="type_5">爱情</a><a href="javascript:" name="type" id="type_6">科幻</a>
                                    <a href="javascript:" name="type" id="type_7">动画</a><a href="javascript:" name="type" id="type_8">悬疑</a>
                                    <a href="javascript:" name="type" id="type_9">惊悚</a><a href="javascript:" name="type" id="type_10">恐怖</a>
                                    <a href="javascript:" name="type" id="type_11">犯罪</a><a href="javascript:" name="type" id="type_12">同性</a>
                                    <a href="javascript:" name="type" id="type_13">音乐</a><a href="javascript:" name="type" id="type_14">歌舞</a>
                                    <a href="javascript:" name="type" id="type_15">传记</a><a href="javascript:" name="type" id="type_16">历史</a>
                                    <a href="javascript:" name="type" id="type_17">战争</a><a href="javascript:" name="type" id="type_18">奇幻</a>
                                    <a href="javascript:" name="type" id="type_19">冒险</a><a href="javascript:" name="type" id="type_20">灾难</a>
                                    <a href="javascript:" name="type" id="type_21">武侠</a><a href="javascript:" name="type" id="type_22">情色</a>
                            </span>

                            <p class="entry__tags">
                                <span>全部地区</span>

                                <span class="entry__tag-list">
                                    <a href="javascript:" name="region" id="region_1">所有地区</a>
                                    <a href="javascript:" name="region" id="region_2">中国大陆</a><a href="javascript:" name="region" id="region_3">美国</a>
                                    <a href="javascript:" name="region" id="region_4">中国香港</a><a href="javascript:" name="region" id="region_5">中国台湾</a>
                                    <a href="javascript:" name="region" id="region_6">日本</a><a href="javascript:" name="region" id="region_7">韩国</a>
                                    <a href="javascript:" name="region" id="region_8">英国</a><a href="javascript:" name="region" id="region_9">法国</a>
                                    <a href="javascript:" name="region" id="region_10">德国</a><a href="javascript:" name="region" id="region_11">意大利</a>
                                    <a href="javascript:" name="region" id="region_12">西班牙</a><a href="javascript:" name="region" id="region_13">印度</a>
                                    <a href="javascript:" name="region" id="region_14">泰国</a><a href="javascript:" name="region" id="region_15">俄罗斯</a>
                                    <a href="javascript:" name="region" id="region_16">伊朗</a><a href="javascript:" name="region" id="region_17">加拿大</a>
                                    <a href="javascript:" name="region" id="region_18">澳大利亚</a><a href="javascript:" name="region" id="region_19">爱尔兰</a>
                                    <a href="javascript:" name="region" id="region_20">瑞典</a><a href="javascript:" name="region" id="region_21">巴西</a>
                                    <a href="javascript:" name="region" id="region_22">丹麦</a>
                            </span>


                            <p class="entry__tags">
                                <span>全部时间</span>

                                <span class="entry__tag-list">
                                    <a href="javascript:" name="time" id="time_1" value="">所有年代</a>
                                    <a href="javascript:" name="time" id="time_2" value="2019">2019</a><a href="javascript:" name="time" id="time_3"  value="2018">2018</a>
                                    <a href="javascript:" name="time" id="time_4" value="2010">2010年代</a><a href="javascript:" name="time" id="time_5" value="2000">2000年代</a>
                                    <a href="javascript:" name="time" id="time_6" value="1990">90年代</a><a href="javascript:" name="time" id="time_7" value="1980">80年代</a>
                                    <a href="javascript:" name="time" id="time_8" value="1970">70年代</a><a href="javascript:" name="time" id="time_9" value="1960">更早</a>
                                </span>
                            </p>


                            <!--<p class="entry__tags">-->
                                <a class="btn btn--stroke full-width" href="javascript:" style="width: 30%;margin-left: 100px" name="btn" id="btn_1" >评分最高</a>
                                <a class="btn btn--stroke full-width" href="javascript:" style="width: 30%;margin-left: 150px" name="btn" id="btn_2" >标记最多</a>

                            <!--</p>-->
                        </div>

                    </div>


                    <!-- 查询结果 -->
                    <div class="row half-bottom">

                        <div class="column large-6 tab-full" id="film1">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>

                        <div class="column large-6 tab-full" id="film2">
                             <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>     
						<div class="column large-6 tab-full" id="film3">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>             
						<div class="column large-6 tab-full" id="film4">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>               
						<div class="column large-6 tab-full" id="film5">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>
						<div class="column large-6 tab-full" id="film6">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>
						<div class="column large-6 tab-full" id="film7">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>
						<div class="column large-6 tab-full" id="film8">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>
						<div class="column large-6 tab-full" id="film9">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>
						<div class="column large-6 tab-full" id="film10">
                            <a><h3 align="left"></h3></a>
                            <p><a class="entry__thumb-link"><img src="../plugins/webapps/images/thumbs/single/standard/white.png" sizes="(max-width:1000px) 100vw,1000px" alt=""></a></p>
                        </div>
						
                    </div> <!-- end row -->

                </section> <!-- end styles -->

            </main>

            <div class="row">
                <div class="column large-full">
                    <nav class="pgn">
                        <ul id="cur_page">
                            <li><a class="pgn__prev" href="#0">Prev</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=1">1</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=2">2</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=3">3</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=4">4</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=5">5</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=6">6</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=7">7</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=8">8</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=9">9</a></li>
                            <li><a class="pgn__num" href="film_classfiy.html?page=10">10</a></li>
                            <li><a class="pgn__next" href="#0">Next</a></li>
                        </ul>
                    </nav>
                </div>
            </div>

        </div> <!-- end s-content -->


        <!-- footer
        ================================================== -->
        <footer class="s-footer">

            <div class="go-top" style="margin-right: 50px">
                <a class="smoothscroll" title="Back to Top" href="#top"></a>
            </div>
        </footer>

    </div> <!-- end s-wrap -->


    <!-- Java Script
    ================================================== -->
    <script src="../plugins/webapps/js/jquery-3.2.1.min.js"></script>
    <script src="../plugins/webapps/js/plugins.js"></script>
    <script src="../plugins/webapps/js/main.js"></script>

    <script type="text/javascript">
        function changeA1(id) {
            aid = "#"+id;
            $("a").siblings(".a_focus1").css("color","#1a1a1a");
            $("a").siblings(".a_focus1").removeClass("a_focus1");

            $(aid).addClass("a_focus1");
            $(aid).css("color","#ffffff");
        }

        function changeA2(id) {
            aid = "#"+id;
            $("a").siblings(".a_focus2").css("color","#1a1a1a");
            $("a").siblings(".a_focus2").removeClass("a_focus2");

            $(aid).addClass("a_focus2");
            $(aid).css("color","#ffffff");
        }

        function changeA3(id) {
            aid = "#"+id;
            $("a").siblings(".a_focus3").css("color","#1a1a1a");
            $("a").siblings(".a_focus3").removeClass("a_focus3");

            $(aid).addClass("a_focus3");
            $(aid).css("color","#ffffff");
        }

        function changeBtn(id) {
            if(id == "btn_1"){
                $("#btn_2").removeClass("btn_focus").addClass("btn_default");
                $("#btn_1").removeClass("btn_default").addClass("btn_focus");

            }else if(id == "btn_2"){
                $("#btn_1").removeClass("btn_focus").addClass("btn_default");
                $("#btn_2").removeClass("btn_default").addClass("btn_focus");
            }
        }

        function getData(data){
            console.log(data);
            $.ajax({
				"url":"/film/findvfilmbycon",
				"type":"get",
				"dataType":"json",
				"data":data,
				"success":function(obj){
					if(obj.state === 1){
					    if(getQueryVariable("page") == false){
					        obj.data = obj.data.splice(0,10);
                        }else{
					        let page = getQueryVariable("page");
					        let page_pre = page-1 < 1 ? 1:page-1;
					        let page_next = page+1 > 10 ? 10:page+1;
					        $("#cur_page").find("li:eq(0)").attr("href","film_classfiy.html?page="+page_pre);
					        $("#cur_page").find("li:eq(11)").attr("href","film_classfiy.html?page="+page_next);

					        obj.data = obj.data.splice((page-1)*10,page*10);
                        }

						let len;
						if(obj.data.length >= 10)
							len = 10;
						else
							len = obj.data.length;

						$('#styles > div.row.half-bottom div').each(function(){
                            $(this).find("h3:eq(0)").text("");
                            $(this).find("img:eq(0)").attr("src","../plugins/webapps/images/thumbs/single/standard/yellow.png");
                            $(this).find("img:eq(0)").attr("alt","");
                            $(this).find("a").attr("href","#");
                        });
						
						for(let i = 1;i<=len;i++){
							let aid = "#film" + i.toString();
							let film_id = obj.data[i-1]["filmId"];	//电影id
							let film_name = obj.data[i-1]["title"].split(" ")[0];	//电影名
							let film_img = obj.data[i-1]["src"];	//图片url
                            let film_star = obj.data[i-1]["star"];
							
							$(aid).find("h3:eq(0)").text(film_name);
							$(aid).find("img:eq(0)").attr("src",film_img);
							$(aid).find("img:eq(0)").attr("alt",film_name);
							$(aid).find("a").attr("href","film_information.html?film_id="+film_id);
						}

						// if(len < 10){
						//     for(let i=length+1;i<=10;i++){
						//         let aid = "#film" + i.toString();
                        //         $(aid).find("h3:eq(0)").text("");
                        //         $(aid).find("img:eq(0)").attr("src","../plugins/webapps/images/thumbs/single/standard/white.png");
                        //         $(aid).find("img:eq(0)").attr("alt","");
                        //         $(aid).find("a").attr("href","#");
                        //     }
                        // }
					}else{
						alert(obj.message);
                        $('#styles > div.row.half-bottom div').each(function(){
                            $(this).find("h3:eq(0)").text("");
                            $(this).find("img:eq(0)").attr("src","../plugins/webapps/images/thumbs/single/standard/yellow.png");
                            $(this).find("img:eq(0)").attr("alt","");
                            $(this).find("a").attr("href","#");
                        });
					}
				},
				"error":function(){
					alert('请求错误！');
				}
			});

/* 			for(var i = 1;i<10;i++){
				var aid = "#film" + i.toString();
				$(aid).find("h3:eq(0)").text("小丑");
				$(aid).find("img:eq(0)").attr("src","../plugins/webapps/images/thumbs/single/standard/piano.webp");
				$(aid).find("img:eq(0)").attr("alt","小丑");
				$(aid).find("a").attr("href","film_information.html");
			} */

        }

        $(document).ready(function(){
            changeA1("type_1");
            changeA2("region_1");
            changeA3("time_1");
            changeBtn("btn_1");

            var require = {
                "types":"",
                "region":"",
                "years":"",
                "way":$("#btn_1").text()
            };
			getData(require);

            $("a").click(function () {
                var id = $(this).attr("id");
                var name = $(this).attr("name");
                switch (name) {
                    case "type":
                        changeA1(id);
                        let t = $("#"+id).text();
                        if(t == "所有类型"){
                            require["types"] = "";
                        }else{
                            require["types"] = t;
                        }
                        getData(require);
                        break;
                    case "region":
                        changeA2(id);
                        let r = $("#"+id).text();
                        if(r == "所有地区"){
                            require["region"] = "";
                        }else{
                            require["region"] = r;
                        }
                        getData(require);
                        break;
                    case "time":
                        changeA3(id);
                        let y = $("#"+id).attr("value");
                        require["years"] = y;
                        getData(require);
                        break;
                    case "btn":
                        changeBtn(id);
                        require["way"] = $("#"+ id).text();
                        getData(require);
                        break;
                    default:
                        break;
                }
            });
        });

        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) {
                    return pair[1];
                }
            }
            return (false);
        }
    </script>
</body>